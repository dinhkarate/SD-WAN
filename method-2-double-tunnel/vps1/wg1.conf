#===============================================================================
# VPS1 WireGuard Client Configuration (Method 2)
# File: /etc/wireguard/wg1.conf
# Kết nối đến VPS2 để route traffic ra Internet
#===============================================================================

[Interface]
# IP của VPS1 trong WireGuard network (tunnel 2 - với VPS2)
Address = 10.0.1.2/24

# Private key của wg1 (sẽ được tự động thay thế bởi setup.sh)
PrivateKey = <VPS1_WG1_PRIVATE_KEY>

# Không cần ListenPort vì đây là client

#===============================================================================
# PEER: VPS2 (WireGuard Server + NAT)
#===============================================================================
[Peer]
# Public key của VPS2 (lấy từ VPS2 sau khi chạy setup)
PublicKey = <VPS2_PUBLIC_KEY>

# Endpoint: IP public và port của VPS2
Endpoint = VPS2_PUBLIC_IP:51821

# Route tất cả traffic qua VPS2 (trừ traffic local)
# 0.0.0.0/0 = route tất cả Internet traffic
# Nhưng ta chỉ cần route 0.0.0.0/0 khi muốn tất cả traffic đi qua VPS2
AllowedIPs = 0.0.0.0/0

# Giữ kết nối sống (quan trọng vì VPS1 là client)
PersistentKeepalive = 25
